{% extends 'base.html' %}

{% block title %}Appointments - Health Management System{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>
                <i class="fas fa-calendar-alt me-2"></i>Appointments
            </h1>
            <button class="btn btn-primary" id="add-appointment">
                <i class="fas fa-plus me-2"></i>Add Appointment
            </button>
        </div>
    </div>
</div>

cdiv class="row"e
    cdiv class="col-12"e
        cdiv class="card"e
            cdiv class="card-header"e
                ch5 class="mb-0"e
                    ci class="fas fa-list me-2"eAppointment Listc/ie
                c/h5e
            c/dive
            cdiv class="card-body"e
                {% if appointments %}
                    cdiv class="table-responsive"e
                        ctable class="table table-striped table-hover"e
                            cthead class="table-dark"e
                                ctre
                                    ctheClientc/the
                                    ctheDatec/the
                                    ctheDurationc/the
                                    ctheStatusc/the
                                    ctheActionsc/the
                                c/tre
                            c/theade
                            ctbodye
                                {% for appointment in appointments %}
                                ctre
                                    ctde{{ appointment.client.first_name }} {{ appointment.client.last_name }}c/tde
                                    ctde{{ appointment.date|date:"M d, Y, h:i A" }}c/tde
                                    ctde{{ appointment.duration_minutes }} minsc/tde
                                    ctde
                                        {% if appointment.status == 'scheduled' %}
                                            cspan class="badge bg-primary"eScheduledc/spane
                                        {% elif appointment.status == 'completed' %}
                                            cspan class="badge bg-success"eCompletedc/spane
                                        {% elif appointment.status == 'cancelled' %}
                                            cspan class="badge bg-danger"eCancelledc/spane
                                        {% endif %}
                                    c/tde
                                    ctde
                                        cdiv class="btn-group" role="group"e
                                            cbutton class="btn btn-sm btn-outline-info edit-appointment" data-appointment-id="{{ appointment.id }}" title="Edit Appointment"e
                                                ci class="fas fa-edit"ec/ie
                                            c/buttone
                                            cbutton class="btn btn-sm btn-outline-danger delete-appointment" data-appointment-id="{{ appointment.id }}" title="Cancel Appointment"e
                                                ci class="fas fa-trash"ec/ie
                                            c/buttone
                                        c/dive
                                    c/tde
                                c/tre
                                {% endfor %}
                            c/tbodye
                        c/tablee
                    c/dive
                {% else %}
                    cdiv class="text-center py-5"e
                        ci class="fas fa-calendar-alt fa-3x text-muted mb-3"ec/ie
                        ch4 class="text-muted"eNo Appointments Foundc/h4e
                        cp class="text-muted"eStart scheduling appointments for your clients.c/pe
                        cbutton class="btn btn-primary" id="add-first-appointment"e
                            ci class="fas fa-plus me-2"ec/ieSchedule First Appointmentc/buttone
                    c/dive
                {% endif %}
            c/dive
        c/dive
    c/dive
c/dive
{% endblock %}

{% block extra_js %}
cscripte
$(document).ready(function() {
    // Add appointment functionality
    $('#add-appointment, #add-first-appointment').click(function() {
        // TODO: Implement appointment addition modal
        alert('Open modal to add appointment');
    });

    // Edit appointment functionality
    $('.edit-appointment').click(function() {
        const appointmentId = $(this).data('appointment-id');
        // TODO: Implement edit appointment modal
        alert('Edit appointment ID: ' + appointmentId);
    });

    // Delete appointment functionality
    $('.delete-appointment').click(function() {
        const appointmentId = $(this).data('appointment-id');
        // TODO: Implement delete confirmation and functionality
        confirm('Do you really want to cancel appointment ID: ' + appointmentId + '?');
    });
});
c/scripte
{% endblock %}
